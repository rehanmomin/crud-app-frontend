{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/rehanmomin/my-crud-app/client/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\nexport default function Home() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [formData, setFormData] = useState({ name: \"\", email: \"\" });\n  const [editingId, setEditingId] = useState<number | null>(null);\n\n  const apiUrl = process.env.NEXT_PUBLIC_API_URL;\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async (): Promise<void> => {\n    if (!apiUrl) {\n      console.error(\"API URL is not defined\");\n      return;\n    }\n    try {\n      const response = await fetch(`${apiUrl}/api/users`);\n      const data = await response.json();\n\n      if (Array.isArray(data)) {\n        setUsers(data); // Set users only if data is an array\n      } else {\n        console.error(\"Expected an array of users but got:\", data);\n        setUsers([]); // Reset users to an empty array to prevent map error\n      }\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!apiUrl) {\n      console.error(\"API URL is not defined\");\n      return;\n    }\n    try {\n      const url = editingId\n        ? `${apiUrl}/api/users/${editingId}`\n        : `${apiUrl}/api/users`;\n      const method = editingId ? \"PUT\" : \"POST\";\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        setFormData({ name: \"\", email: \"\" });\n        setEditingId(null);\n        fetchUsers();\n      }\n    } catch (error) {\n      console.error(\"Error saving user:\", error);\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!apiUrl) {\n      console.error(\"API URL is not defined\");\n      return;\n    }\n    try {\n      await fetch(`${apiUrl}/api/users/${id}`, {\n        method: \"DELETE\",\n      });\n      fetchUsers();\n    } catch (error) {\n      console.error(\"Error deleting user:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>User Management</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={formData.name}\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          className=\"border p-2 mr-2\"\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n          className=\"border p-2 mr-2\"\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-blue-500 text-white px-4 py-2 rounded\"\n        >\n          {editingId ? \"Update\" : \"Add\"} User\n        </button>\n      </form>\n      <div>\n        {Array.isArray(users) &&\n          users.map((user) => (\n            <div key={user.id} className=\"border p-2 mb-2\">\n              <div>{user.name}</div>\n              <div>{user.email}</div>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setEditingId(user.id);\n                  setFormData({ name: user.name, email: user.email });\n                }}\n                className=\"bg-yellow-500 text-white px-2 py-1 rounded mr-2\"\n              >\n                Edit\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => handleDelete(user.id)}\n                className=\"bg-red-500 text-white px-2 py-1 rounded\"\n              >\n                Delete\n              </button>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/rehanmomin/my-crud-app/client/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/rehanmomin/my-crud-app/client/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///Users/rehanmomin/my-crud-app/client/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}